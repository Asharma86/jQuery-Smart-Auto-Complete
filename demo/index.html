<!DOCTYPE html>
<html>
<head>
  <title>Smart AutoComplete Samples</title>
  <meta http-equiv="content-type" content="text/html; charset=iso-8859-1">

  <link media="screen" type="text/css" href="stylesheets/application.css" rel="stylesheet">
  <link media="screen" type="text/css" href="stylesheets/smooth_theme.css" rel="stylesheet">

  <script type="text/javascript" src="http://ajax.googleapis.com/ajax/libs/jquery/1.5/jquery.min.js"></script>
  <script type="text/javascript" src="../jquery.smart_autocomplete.js"></script>

  <script type="text/javascript">
    $(function(){
        $("#basic_autocomplete_field").smartAutoComplete({source: ['Apple', 'Banana', 'Orange', 'Mango'], forceSelect: true, minCharLimit: 0, delay: 200});
        $("#textarea_autocomplete_field").smartAutoComplete({source: ['Apple', 'Banana', 'Orange', 'Mango']});
        $("#textarea_autocomplete_field").bind({
           keyIn: function(ev){
             var tag_list = ev.customData.query.split(","); 
             //pass the modified query to default event
             ev.customData.query = $.trim(tag_list[tag_list.length - 1]);
           },

           itemSelect: function(ev, selected_item){ 
            var options = $(this).smartAutoComplete();

            //get the text from selected item
            var selected_value = $(selected_item).text();
            var cur_list = $(this).val().split(","); 
            cur_list[cur_list.length - 1] = selected_value;
            $(this).val(cur_list.join(",") + ","); 

            //set item selected property
            options.setItemSelected(true);

            //hide results container
            $(this).trigger('hideResults');
              
            //prevent default event handler from executing
            ev.preventDefault();
          },

           noMatch: function(ev){ ev.preventDefault(); }
        });

        $("#countries_field").smartAutoComplete({source: "countries.json"});

    });
  </script>

  <style>
    ul li {list-style: none; cursor: pointer;}
    li.highlight {background-color: #c0c0c0;}
    ul { margin: 10px 0; padding: 5px; background-color: #aeaeae; }

  </style>

</head>

<body>
   <div id="container">
      <div id="header"><h1>Smart AutoComplete Samples</h1></div>
      <div id="wrapper">
        <div id="content">
          <form>
            <input type="text" autocomplete="off" id="basic_autocomplete_field"/>
            <textarea  autocomplete="off" id="textarea_autocomplete_field"></textarea>

            <div>
              <input type="text" autocomplete="off" id="countries_field"/>
            </div>
          </form>
        </div>
      </div>
    </div>
</body>
</html>
